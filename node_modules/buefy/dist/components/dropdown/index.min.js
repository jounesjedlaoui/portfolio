/*! Buefy v0.1.3 | MIT License | github.com/buefy/buefy */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Dropdown={},e.Vue)}(this,(function(e,t){"use strict";var i,o=function(e){return e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.querySelectorAll('*[tabindex="-1"]'):e.querySelectorAll('a[href]:not([tabindex="-1"]),\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex]:not([tabindex="-1"]),\n                                     *[contenteditable]'):null},s={beforeMount:function(e,t){var s=t.value;if(void 0===s||s){var n=o(e),l=o(e,!0);n&&n.length>0&&(i=function(t){n=o(e),l=o(e,!0);var i=n[0],s=n[n.length-1];t.target===i&&t.shiftKey&&"Tab"===t.key?(t.preventDefault(),s.focus()):(t.target===s||Array.from(l).indexOf(t.target)>=0)&&!t.shiftKey&&"Tab"===t.key&&(t.preventDefault(),i.focus())},e.addEventListener("keydown",i))}},unmounted:function(e){e.removeEventListener("keydown",i)}},n=!0,l=!0;const a=["escape","outside"],d=Symbol("bdropdown");var r={name:"BDropdown",directives:{trapFocus:s},provide(){return{[d]:this}},props:{modelValue:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,inline:Boolean,scrollable:Boolean,maxHeight:{type:[String,Number],default:200},position:{type:String,validator:e=>["is-top-right","is-top-left","is-bottom-left","is-bottom-right"].indexOf(e)>-1},triggers:{type:Array,default:()=>["click"]},mobileModal:{type:Boolean,default:()=>n},ariaRole:{type:String,validator:e=>["menu","list","dialog"].indexOf(e)>-1,default:null},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:()=>l},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean,appendToBody:Boolean,appendToBodyCopyParent:Boolean,triggerTabindex:{type:Number,default:0}},emits:["active-change","change","update:modelValue"],data(){return{selected:this.modelValue,style:{},isActive:!1,isHoverable:!1,maybeTap:!1,isTouchEnabled:!1,_bodyEl:void 0,timeOutID:null,timeOutID2:null}},computed:{rootClasses(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded,"is-touch-enabled":this.isTouchEnabled}]},isMobileModal(){return this.mobileModal&&!this.inline},cancelOptions(){return"boolean"==typeof this.canClose?this.canClose?a:[]:this.canClose},contentStyle(){return{maxHeight:this.scrollable?(e=this.maxHeight,void 0===e?null:isNaN(e)?e:e+"px"):null,overflow:this.scrollable?"auto":null};var e},hoverable(){return this.triggers.indexOf("hover")>=0}},watch:{modelValue(e){this.selected=e},isActive(e){this.$emit("active-change",e),e||(this.timeOutID=setTimeout((()=>{this.isActive||(this.isTouchEnabled=!1)}),250)),this.handleScroll(),this.appendToBody&&this.$nextTick((()=>{this.updateAppendToBody()}))},isHoverable(e){this.hoverable&&this.$emit("active-change",e)}},methods:{handleScroll(){"undefined"!=typeof window&&this.isMobileModal&&(this.isActive?document.documentElement.classList.add("is-clipped-touch"):document.documentElement.classList.remove("is-clipped-touch"))},selectItem(e){this.multiple?(this.selected?-1===this.selected.indexOf(e)?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!==e)):this.selected=[e],this.$emit("change",this.selected)):this.selected!==e&&(this.selected=e,this.$emit("change",this.selected)),this.$emit("update:modelValue",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList(e){if(e===this.$refs.dropdownMenu)return!0;if(e===this.$refs.trigger)return!0;if(null!=this.$refs.dropdownMenu){const t=this.$refs.dropdownMenu.querySelectorAll("*");for(const i of t)if(e===i)return!0}if(null!=this.$refs.trigger){const t=this.$refs.trigger.querySelectorAll("*");for(const i of t)if(e===i)return!0}return!1},clickedOutside(e){if(this.cancelOptions.indexOf("outside")<0)return;if(this.inline)return;const t="shadowRoot"in this.$root.$options?e.composedPath()[0]:e.target;this.isInWhiteList(t)||(this.isActive=!1)},keyPress({key:e}){if(this.isActive&&("Escape"===e||"Esc"===e)){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},onClick(){-1===this.triggers.indexOf("hover")&&(this.triggers.indexOf("click")<0||this.toggle())},onContextMenu(){this.triggers.indexOf("contextmenu")<0||this.toggle()},onHover(){this.triggers.indexOf("hover")<0||this.isTouchEnabled||(this.isHoverable=!0)},onTouchStart(){this.maybeTap=!0},onTouchMove(){this.maybeTap=!1},onTouchEnd(e){-1!==this.triggers.indexOf("hover")&&this.maybeTap&&(e.preventDefault(),this.maybeTap=!1,this.isTouchEnabled=!0,this.toggle())},onFocus(){this.triggers.indexOf("focus")<0||this.toggle()},toggle(){this.disabled||(this.isActive?this.isActive=!this.isActive:this.timeOutID2=setTimeout((()=>{const e=!this.isActive;this.isActive=e})))},updateAppendToBody(){const e=this.$refs.dropdown,t=this.$refs.dropdownMenu,i=this.$refs.trigger;if(t&&i){const o=this.$data._bodyEl.children[0];if(o.classList.forEach((e=>o.classList.remove(e))),o.classList.add("dropdown"),o.classList.add("dropdown-menu-animation"),this.$vnode&&this.$vnode.data&&this.$vnode.data.staticClass&&o.classList.add(this.$vnode.data.staticClass),this.rootClasses.forEach((e=>{if(e&&"object"==typeof e)for(const t in e)e[t]&&o.classList.add(t)})),this.appendToBodyCopyParent){const e=this.$refs.dropdown.parentNode,t=this.$data._bodyEl;t.classList.forEach((e=>t.classList.remove(e))),e.classList.forEach((e=>{t.classList.add(e)}))}const s=i.getBoundingClientRect();let n=s.top+window.scrollY,l=s.left+window.scrollX;!this.position||this.position.indexOf("bottom")>=0?n+=i.clientHeight:n-=t.clientHeight,this.position&&this.position.indexOf("left")>=0&&(l-=t.clientWidth-i.clientWidth),this.style={position:"absolute",top:`${n}px`,left:`${l}px`,zIndex:"99",width:this.expanded?`${e.offsetWidth}px`:void 0}}}},mounted(){this.appendToBody&&(this.$data._bodyEl=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%";var i=document.createElement("div");return t.appendChild(i),i.appendChild(e),document.body.appendChild(t),t}(this.$refs.dropdownMenu),this.updateAppendToBody())},created(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeUnmount(){var e;"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress)),this.appendToBody&&(void 0!==(e=this.$data._bodyEl).remove?e.remove():void 0!==e.parentNode&&null!==e.parentNode&&e.parentNode.removeChild(e)),clearTimeout(this.timeOutID),clearTimeout(this.timeOutID2)}};const c=["tabindex"],h=["aria-hidden"],u=["aria-hidden"],p=["role","aria-modal"];r.render=function(e,i,o,s,n,l){const a=t.resolveDirective("trap-focus");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["dropdown dropdown-menu-animation",l.rootClasses]),ref:"dropdown",onMouseleave:i[7]||(i[7]=e=>n.isHoverable=!1)},[o.inline?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("div",{key:0,tabindex:!o.disabled&&o.triggerTabindex,ref:"trigger",class:"dropdown-trigger",onClick:i[0]||(i[0]=(...e)=>l.onClick&&l.onClick(...e)),onContextmenu:i[1]||(i[1]=t.withModifiers(((...e)=>l.onContextMenu&&l.onContextMenu(...e)),["prevent"])),onMouseenter:i[2]||(i[2]=(...e)=>l.onHover&&l.onHover(...e)),onFocusCapture:i[3]||(i[3]=(...e)=>l.onFocus&&l.onFocus(...e)),onTouchstart:i[4]||(i[4]=(...e)=>l.onTouchStart&&l.onTouchStart(...e)),onTouchmove:i[5]||(i[5]=(...e)=>l.onTouchMove&&l.onTouchMove(...e)),onTouchend:i[6]||(i[6]=(...e)=>l.onTouchEnd&&l.onTouchEnd(...e)),"aria-haspopup":"true"},[t.renderSlot(e.$slots,"trigger",{active:n.isActive})],40,c)),t.createVNode(t.Transition,{name:o.animation},{default:t.withCtx((()=>[l.isMobileModal?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:"background","aria-hidden":!n.isActive},null,8,h)),[[t.vShow,n.isActive]]):t.createCommentVNode("v-if",!0)])),_:1},8,["name"]),t.createVNode(t.Transition,{name:o.animation,persisted:""},{default:t.withCtx((()=>[t.withDirectives((t.openBlock(),t.createElementBlock("div",{ref:"dropdownMenu",class:"dropdown-menu",style:t.normalizeStyle(n.style),"aria-hidden":!n.isActive},[t.createElementVNode("div",{class:"dropdown-content",role:o.ariaRole,"aria-modal":!o.inline,style:t.normalizeStyle(l.contentStyle)},[t.renderSlot(e.$slots,"default")],12,p)],12,u)),[[t.vShow,!o.disabled&&(n.isActive||n.isHoverable)||o.inline],[a,o.trapFocus]])])),_:3},8,["name"])],34)},r.__file="src/components/dropdown/Dropdown.vue";var m={name:"BDropdownItem",inject:{parent:{from:d,default:void 0}},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},emits:["click"],computed:{anchorClasses(){return{"is-disabled":this.parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable(){return!(this.parent.disabled||this.separator||this.disabled||this.custom)},isActive(){return null!==this.parent.selected&&(this.parent.multiple?this.parent.selected.indexOf(this.value)>=0:this.value===this.parent.selected)},isFocusable(){return!this.hasLink&&this.focusable}},methods:{selectItem(){this.isClickable&&(this.parent.selectItem(this.value),this.$emit("click"))}}};const f={key:0,class:"dropdown-divider"},v=["role","tabindex"],b=["role","tabindex"];m.render=function(e,i,o,s,n,l){return o.separator?(t.openBlock(),t.createElementBlock("hr",f)):o.custom||o.hasLink?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(l.itemClasses),onClick:i[1]||(i[1]=(...e)=>l.selectItem&&l.selectItem(...e)),role:l.ariaRoleItem,tabindex:l.isFocusable?0:null},[t.renderSlot(e.$slots,"default")],10,b)):(t.openBlock(),t.createElementBlock("a",{key:1,class:t.normalizeClass(["dropdown-item",l.anchorClasses]),onClick:i[0]||(i[0]=(...e)=>l.selectItem&&l.selectItem(...e)),role:l.ariaRoleItem,tabindex:l.isFocusable?0:null},[t.renderSlot(e.$slots,"default")],10,v))},m.__file="src/components/dropdown/DropdownItem.vue";var y,g=function(e,t,i){e.component(i||t.name,t)},w={install:function(e){g(e,r),g(e,m)}};y=w,"undefined"!=typeof window&&window.Vue&&window.Vue.use(y),e.BDropdown=r,e.BDropdownItem=m,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})}));
