/*! Buefy v0.1.3 | MIT License | github.com/buefy/buefy */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Tooltip={},e.Vue)}(this,(function(e,t){"use strict";var i="is-primary",s=null,o=null;var n={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:{type:String,default:()=>i},label:String,delay:{type:Number,default:()=>s},closeDelay:{type:Number,default:()=>o},position:{type:String,default:"is-top",validator:e=>["is-top","is-bottom","is-left","is-right"].indexOf(e)>-1},triggers:{type:Array,default:()=>["hover"]},always:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},appendToBody:Boolean,animated:{type:Boolean,default:!0},animation:{type:String,default:"fade"},contentClass:String,autoClose:{type:[Array,Boolean],default:!0}},emits:["close","open"],data:()=>({isActive:!1,triggerStyle:{},timer:null,_bodyEl:void 0,resizeObserver:void 0,resizeListener:void 0,timeOutID:null}),computed:{rootClasses(){return["b-tooltip",this.type,this.position,this.size,{"is-square":this.square,"is-always":this.always,"is-multiline":this.multilined,"is-dashed":this.dashed}]},newAnimation(){return this.animated?this.animation:void 0}},watch:{isActive(){this.$emit(this.isActive?"open":"close"),this.appendToBody&&this.updateAppendToBody()}},methods:{updateAppendToBody(){const e=this.$refs.tooltip,t=this.$refs.trigger;if(e&&t){const e=this.$data._bodyEl.children[0];e.classList.forEach((t=>e.classList.remove(t))),this.$vnode&&this.$vnode.data&&this.$vnode.data.staticClass&&e.classList.add(this.$vnode.data.staticClass),this.rootClasses.forEach((t=>{if("object"==typeof t)for(const i in t)t[i]&&e.classList.add(i);else e.classList.add(t)}));const i=t.getBoundingClientRect(),s=i.top+window.scrollY,o=i.left+window.scrollX;switch(e.style.position="absolute",this.position){case"is-top":e.style.width=`${t.clientWidth}px`,e.style.height="0px",e.style.top="0px",e.style.left="0px";break;case"is-bottom":e.style.width=`${t.clientWidth}px`,e.style.height="0px",e.style.top=`${t.clientHeight}px`,e.style.left="0px";break;case"is-left":e.style.width="0px",e.style.height=`${t.clientHeight}px`,e.style.top="0px",e.style.left="0px";break;case"is-right":e.style.width="0px",e.style.height=`${t.clientHeight}px`,e.style.top="0px",e.style.left=`${t.clientWidth}px`}const n=this.$data._bodyEl;n.style.position="absolute",n.style.top=`${s}px`,n.style.left=`${o}px`,n.style.width="0px",n.style.zIndex=this.isActive||this.always?"99":"-1",this.triggerStyle={zIndex:this.isActive||this.always?"100":void 0}}},onClick(){this.triggers.indexOf("click")<0||this.$nextTick((()=>{this.timeOutID=setTimeout((()=>this.open()))}))},onHover(){this.triggers.indexOf("hover")<0||this.open()},onContextMenu(e){this.triggers.indexOf("contextmenu")<0||(e.preventDefault(),this.open())},onFocus(){this.triggers.indexOf("focus")<0||this.open()},open(){this.delay?this.timer=setTimeout((()=>{this.isActive=!0,this.timer=null}),this.delay):this.isActive=!0},close(){"boolean"==typeof this.autoClose&&(this.autoClose&&this.timer&&clearTimeout(this.timer),this.closeDelay?this.timer=setTimeout((()=>{this.isActive=!this.autoClose,this.timer=null}),this.closeDelay):this.isActive=!this.autoClose)},clickedOutside(e){if(this.isActive&&Array.isArray(this.autoClose)){if(this.autoClose.includes("outside")&&!this.isInWhiteList(e.target))return void(this.isActive=!1);this.autoClose.includes("inside")&&this.isInWhiteList(e.target)&&(this.isActive=!1)}},keyPress({key:e}){!this.isActive||"Escape"!==e&&"Esc"!==e||Array.isArray(this.autoClose)&&this.autoClose.indexOf("escape")>=0&&(this.isActive=!1)},isInWhiteList(e){if(e===this.$refs.content)return!0;if(null!=this.$refs.content){const t=this.$refs.content.querySelectorAll("*");for(const i of t)if(e===i)return!0}return!1}},mounted(){if(this.appendToBody&&"undefined"!=typeof window){this.controller=new window.AbortController,this.$data._bodyEl=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%";var i=document.createElement("div");return t.appendChild(i),i.appendChild(e),document.body.appendChild(t),t}(this.$refs.content),this.updateAppendToBody();const e=this.$el.closest(".animation-content");if(null!=e){const t=()=>{this.updateAppendToBody(),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t,{signal:this.controller.signal})}this.resizeListener=()=>this.updateAppendToBody(),window.addEventListener("resize",this.resizeListener),this.resizeObserver=new ResizeObserver(this.resizeListener),null!=this.$el.parentNode&&this.$el.parentNode.nodeType===Node.ELEMENT_NODE&&this.resizeObserver.observe(this.$el.parentNode)}},created(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeUnmount(){var e;"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress)),null!=this.resizeListener&&window.removeEventListener("resize",this.resizeListener),null!=this.resizeObserver&&this.resizeObserver.disconnect(),this.appendToBody&&(void 0!==(e=this.$data._bodyEl).remove?e.remove():void 0!==e.parentNode&&null!==e.parentNode&&e.parentNode.removeChild(e)),null!=this.controller&&this.controller.abort(),clearTimeout(this.timer),clearTimeout(this.timeOutID)}};n.render=function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{ref:"tooltip",class:t.normalizeClass(l.rootClasses)},[t.createVNode(t.Transition,{name:l.newAnimation,persisted:""},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{ref:"content",class:t.normalizeClass(["tooltip-content",s.contentClass])},[s.label?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(s.label),1)],64)):e.$slots.content?t.renderSlot(e.$slots,"content",{key:1}):t.createCommentVNode("v-if",!0)],2),[[t.vShow,s.active&&(n.isActive||s.always)]])])),_:3},8,["name"]),t.createElementVNode("div",{ref:"trigger",class:"tooltip-trigger",style:t.normalizeStyle(n.triggerStyle),onClick:i[0]||(i[0]=(...e)=>l.onClick&&l.onClick(...e)),onContextmenu:i[1]||(i[1]=(...e)=>l.onContextMenu&&l.onContextMenu(...e)),onMouseenter:i[2]||(i[2]=(...e)=>l.onHover&&l.onHover(...e)),onFocusCapture:i[3]||(i[3]=(...e)=>l.onFocus&&l.onFocus(...e)),onBlurCapture:i[4]||(i[4]=(...e)=>l.close&&l.close(...e)),onMouseleave:i[5]||(i[5]=(...e)=>l.close&&l.close(...e))},[t.renderSlot(e.$slots,"default",{ref:"slot"})],36)],2)},n.__file="src/components/tooltip/Tooltip.vue";var l,r={install:function(e){!function(e,t,i){e.component(i||t.name,t)}(e,n)}};l=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(l),e.BTooltip=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0})}));
